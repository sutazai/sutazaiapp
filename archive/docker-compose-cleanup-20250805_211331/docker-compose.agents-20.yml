version: '3.8'

services:
  # First batch - already tested
  hardware-resource-optimizer:
    build:
      context: ./agents/hardware-resource-optimizer
      dockerfile: Dockerfile
    container_name: sutazai-hardware-resource-optimizer
    restart: unless-stopped
    ports:
      - "11001:8080"
    environment:
      - AGENT_NAME=hardware-resource-optimizer
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-system-architect:
    build:
      context: ./agents/ai-system-architect
      dockerfile: Dockerfile
    container_name: sutazai-ai-system-architect
    restart: unless-stopped
    ports:
      - "11083:8080"
    environment:
      - AGENT_NAME=ai-system-architect
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-agent-orchestrator:
    build:
      context: ./agents/ai-agent-orchestrator
      dockerfile: Dockerfile
    container_name: sutazai-ai-agent-orchestrator
    restart: unless-stopped
    ports:
      - "11084:8080"
    environment:
      - AGENT_NAME=ai-agent-orchestrator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  infrastructure-devops-manager:
    build:
      context: ./agents/infrastructure-devops-manager
      dockerfile: Dockerfile
    container_name: sutazai-infrastructure-devops-manager
    restart: unless-stopped
    ports:
      - "11085:8080"
    environment:
      - AGENT_NAME=infrastructure-devops-manager
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  deployment-automation-master:
    build:
      context: ./agents/deployment-automation-master
      dockerfile: Dockerfile
    container_name: sutazai-deployment-automation-master
    restart: unless-stopped
    ports:
      - "8006:8080"
    environment:
      - AGENT_NAME=deployment-automation-master
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  # Second batch
  senior-ai-engineer:
    build:
      context: ./agents/senior-ai-engineer
      dockerfile: Dockerfile
    container_name: sutazai-senior-ai-engineer
    restart: unless-stopped
    ports:
      - "11087:8080"
    environment:
      - AGENT_NAME=senior-ai-engineer
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  agent-orchestrator:
    build:
      context: ./agents/agent-orchestrator
      dockerfile: Dockerfile
    container_name: sutazai-agent-orchestrator
    restart: unless-stopped
    ports:
      - "11088:8080"
    environment:
      - AGENT_NAME=agent-orchestrator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  code-generation-improver:
    build:
      context: ./agents/code-generation-improver
      dockerfile: Dockerfile
    container_name: sutazai-code-generation-improver
    restart: unless-stopped
    ports:
      - "8009:8080"
    environment:
      - AGENT_NAME=code-generation-improver
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  agent-creator:
    build:
      context: ./agents/agent-creator
      dockerfile: Dockerfile
    container_name: sutazai-agent-creator
    restart: unless-stopped
    ports:
      - "11090:8080"
    environment:
      - AGENT_NAME=agent-creator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  docker-specialist:
    build:
      context: ./agents/docker-specialist
      dockerfile: Dockerfile
    container_name: sutazai-docker-specialist
    restart: unless-stopped
    ports:
      - "11091:8080"
    environment:
      - AGENT_NAME=docker-specialist
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  # Third batch
  testing-qa-validator:
    build:
      context: ./agents/testing-qa-validator
      dockerfile: Dockerfile
    container_name: sutazai-testing-qa-validator
    restart: unless-stopped
    ports:
      - "11092:8080"
    environment:
      - AGENT_NAME=testing-qa-validator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-testing-qa-validator:
    build:
      context: ./agents/ai-testing-qa-validator
      dockerfile: Dockerfile
    container_name: sutazai-ai-testing-qa-validator
    restart: unless-stopped
    ports:
      - "11093:8080"
    environment:
      - AGENT_NAME=ai-testing-qa-validator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-senior-backend-developer:
    build:
      context: ./agents/ai-senior-backend-developer
      dockerfile: Dockerfile
    container_name: sutazai-ai-senior-backend-developer
    restart: unless-stopped
    ports:
      - "11094:8080"
    environment:
      - AGENT_NAME=ai-senior-backend-developer
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-senior-frontend-developer:
    build:
      context: ./agents/ai-senior-frontend-developer
      dockerfile: Dockerfile
    container_name: sutazai-ai-senior-frontend-developer
    restart: unless-stopped
    ports:
      - "11095:8080"
    environment:
      - AGENT_NAME=ai-senior-frontend-developer
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ai-senior-full-stack-developer:
    build:
      context: ./agents/ai-senior-full-stack-developer
      dockerfile: Dockerfile
    container_name: sutazai-ai-senior-full-stack-developer
    restart: unless-stopped
    ports:
      - "11096:8080"
    environment:
      - AGENT_NAME=ai-senior-full-stack-developer
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  # Fourth batch - final 5 agents
  ai-system-validator:
    build:
      context: ./agents/ai-system-validator
      dockerfile: Dockerfile
    container_name: sutazai-ai-system-validator
    restart: unless-stopped
    ports:
      - "11097:8080"
    environment:
      - AGENT_NAME=ai-system-validator
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  container-orchestrator-k3s:
    build:
      context: ./agents/container-orchestrator-k3s
      dockerfile: Dockerfile
    container_name: sutazai-container-orchestrator-k3s
    restart: unless-stopped
    ports:
      - "11098:8080"
    environment:
      - AGENT_NAME=container-orchestrator-k3s
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  mega-code-auditor:
    build:
      context: ./agents/mega-code-auditor
      dockerfile: Dockerfile
    container_name: sutazai-mega-code-auditor
    restart: unless-stopped
    ports:
      - "11099:8080"
    environment:
      - AGENT_NAME=mega-code-auditor
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  ollama-integration-specialist:
    build:
      context: ./agents/ollama-integration-specialist
      dockerfile: Dockerfile
    container_name: sutazai-ollama-integration-specialist
    restart: unless-stopped
    ports:
      - "11002:8080"
    environment:
      - AGENT_NAME=ollama-integration-specialist
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama

  agent-debugger:
    build:
      context: ./agents/agent-debugger
      dockerfile: Dockerfile
    container_name: sutazai-agent-debugger
    restart: unless-stopped
    ports:
      - "11003:8080"
    environment:
      - AGENT_NAME=agent-debugger
      - REDIS_HOST=redis
      - REDIS_PORT=6379
      - BACKEND_URL=http://backend:8000
      - OLLAMA_HOST=http://ollama:11434
    networks:
      - sutazai
    depends_on:
      - redis
      - backend
      - ollama


networks:
  sutazai:
    external: true
    name: sutazaiapp_sutazai