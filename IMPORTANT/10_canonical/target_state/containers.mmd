%% Target Containers
flowchart LR
  subgraph Edge
    GW[Kong]
  end
  subgraph App
    API[FastAPI]
    FE[Streamlit]
    AUTH[Auth Service]
    ORCH[Agent Orchestrator]
  end
  subgraph Data
    PG[(PostgreSQL)]
    RD[(Redis)]
    VEC[(ChromaDB)]
    NEO[(Neo4j)]
  end
  subgraph AI
    OLL[Ollama]
    EMB[Embeddings]
  end
  subgraph Observability
    MON[Prometheus]
    GRAF[Grafana]
    LOKI[Loki]
    AM[AlertManager]
  end

  GW-->API
  FE-->API
  API-->AUTH
  API-->ORCH
  API-->PG
  API-->RD
  API-->VEC
  API-->NEO
  API-->OLL
  API-->MON
  MON-->GRAF
  API-->LOKI
  AM-->GRAF
