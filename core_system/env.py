# Alembicenvironmentconfigurationfromlogging.configimportfileConfigfromsqlalchemyimportengine_from_configfromsqlalchemyimportpoolfromalembicimportcontextconfig=context.configfileConfig(config.config_file_name)target_metadata=Nonedefrun_migrations_offline():context.configure(url=config.get_main_option("sqlalchemy.url"),target_metadata=target_metadata,literal_binds=True,dialect_opts={"paramstyle":"named"},)defrun_migrations_online():connectable=engine_from_config(config.get_section(config.config_ini_section),prefix="sqlalchemy.",poolclass=pool.NullPool,)withconnectable.connect()asconnection:context.configure(connection=connection,target_metadata=target_metadata)ifcontext.is_offline_mode():run_migrations_offline()else:run_migrations_online()
