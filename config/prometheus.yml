global:
  scrape_interval: 30s
  evaluation_interval: 30s
  external_labels:
    cluster: sutazaiapp
    environment: production

# OTP-Secured Scrape Configurations
scrape_configs:
  - job_name: 'node_metrics'
    metrics_path: '/metrics/node'
    scheme: 'https'
    authorization:
      type: Bearer
      credentials_file: /opt/sutazaiapp/secrets/otp_token.txt
    static_configs:
      - targets: ['localhost:9100']

  - job_name: 'backend_metrics'
    metrics_path: '/metrics/backend'
    scheme: 'https'
    authorization:
      type: Bearer
      credentials_file: /opt/sutazaiapp/secrets/otp_token.txt
    static_configs:
      - targets: ['localhost:8000']

  - job_name: 'orchestrator_metrics'
    metrics_path: '/metrics/orchestrator'
    scheme: 'https'
    authorization:
      type: Bearer
      credentials_file: /opt/sutazaiapp/secrets/otp_token.txt
    static_configs:
      - targets: ['localhost:9090']

# Offline Rule Configuration
rule_files:
  - "/opt/sutazaiapp/config/prometheus_rules.yml"

# Alerting Configuration
alerting:
  alertmanagers:
    - static_configs:
      - targets: ['localhost:9093'] 