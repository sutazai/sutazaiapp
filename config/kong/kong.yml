_format_version: "3.0"
_transform: true

services:
  - name: backend
    url: http://backend:8000
    routes:
      - name: backend-api
        paths: ["/api"]
        strip_path: false

  - name: frontend
    url: http://frontend:8501
    routes:
      - name: frontend-ui
        paths: ["/app"]
        strip_path: true

  - name: ollama
    url: http://ollama:10104
    routes:
      - name: ollama-api
        paths: ["/ollama"]
        strip_path: true

  # Additional platform services
  - name: flowise
    url: http://flowise:3000
    routes:
      - name: flowise-ui
        paths: ["/flowise"]
        strip_path: true

  - name: n8n
    url: http://n8n:5678
    routes:
      - name: n8n-ui
        paths: ["/n8n"]
        strip_path: true

  - name: grafana
    url: http://grafana:3000
    routes:
      - name: grafana-ui
        paths: ["/grafana"]
        strip_path: true

  - name: prometheus
    url: http://prometheus:9090
    routes:
      - name: prometheus-ui
        paths: ["/prometheus"]
        strip_path: true

  - name: alertmanager
    url: http://alertmanager:9093
    routes:
      - name: alertmanager-ui
        paths: ["/alertmanager"]
        strip_path: true

  - name: loki
    url: http://loki:3100
    routes:
      - name: loki-api
        paths: ["/loki"]
        strip_path: true

  - name: chromadb
    url: http://chromadb:8000
    routes:
      - name: chromadb-api
        paths: ["/chromadb"]
        strip_path: true

  - name: qdrant
    url: http://qdrant:6333
    routes:
      - name: qdrant-api
        paths: ["/qdrant"]
        strip_path: true

  - name: faiss
    url: http://faiss:8000
    routes:
      - name: faiss-api
        paths: ["/faiss"]
        strip_path: true

  - name: documind
    url: http://documind:8000
    routes:
      - name: documind-api
        paths: ["/documind"]
        strip_path: true

  - name: service-hub
    url: http://service-hub:8080
    routes:
      - name: service-hub-api
        paths: ["/service-hub"]
        strip_path: true

  - name: mcp-server
    url: http://mcp-server:3030
    routes:
      - name: mcp-health
        paths: ["/mcp"]
        strip_path: true

  - name: context-framework
    url: http://context-framework:8080
    routes:
      - name: context-framework-api
        paths: ["/context"]
        strip_path: true

  - name: agentgpt
    url: http://agentgpt:3000
    routes:
      - name: agentgpt-ui
        paths: ["/agentgpt"]
        strip_path: true

  - name: agentzero
    url: http://agentzero:8080
    routes:
      - name: agentzero-ui
        paths: ["/agentzero"]
        strip_path: true

  - name: autogen
    url: http://autogen:8080
    routes:
      - name: autogen-ui
        paths: ["/autogen"]
        strip_path: true

  - name: shellgpt
    url: http://shellgpt:8080
    routes:
      - name: shellgpt-ui
        paths: ["/shellgpt"]
        strip_path: true

  - name: aider
    url: http://aider:8080
    routes:
      - name: aider-ui
        paths: ["/aider"]
        strip_path: true

  - name: browser-use
    url: http://browser-use:8080
    routes:
      - name: browser-use-ui
        paths: ["/browser"]
        strip_path: true

  - name: crewai
    url: http://crewai:8080
    routes:
      - name: crewai-ui
        paths: ["/crewai"]
        strip_path: true

  - name: jarvis-voice
    url: http://jarvis-voice-interface:8080
    routes:
      - name: jarvis-voice-api
        paths: ["/jarvis/voice"]
        strip_path: true

  - name: jarvis-knowledge
    url: http://jarvis-knowledge-management:8080
    routes:
      - name: jarvis-knowledge-api
        paths: ["/jarvis/knowledge"]
        strip_path: true

  - name: jarvis-automation
    url: http://jarvis-automation-agent:8080
    routes:
      - name: jarvis-automation-api
        paths: ["/jarvis/automation"]
        strip_path: true

  - name: jarvis-multimodal
    url: http://jarvis-multimodal-ai:8080
    routes:
      - name: jarvis-multimodal-api
        paths: ["/jarvis/multimodal"]
        strip_path: true

plugins:
  - name: cors
    config:
      origins:
        - "*"
      methods: ["GET", "POST", "PUT", "DELETE", "PATCH", "OPTIONS"]
      headers: ["*"]
      credentials: true
      preflight_continue: false
