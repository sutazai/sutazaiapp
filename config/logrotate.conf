# Logrotate Configuration for SutazAI Platform
# Location: /opt/sutazaiapp/config/logrotate.conf

# Docker container logs
/var/lib/docker/containers/*/*.log {
    rotate 7
    daily
    maxsize 100M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
}

# Application logs
/opt/sutazaiapp/logs/*.log {
    rotate 14
    daily
    maxsize 50M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
    create 0644 ai ai
}

# Backend logs
/opt/sutazaiapp/backend/logs/*.log {
    rotate 10
    daily
    maxsize 100M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
    create 0644 ai ai
}

# Frontend logs
/opt/sutazaiapp/frontend/logs/*.log {
    rotate 10
    daily
    maxsize 50M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
    create 0644 ai ai
}

# Agent logs
/opt/sutazaiapp/agents/logs/*.log {
    rotate 7
    daily
    maxsize 50M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
    create 0644 ai ai
}

# Backup logs
/opt/sutazaiapp/backups/**/backup.log {
    rotate 30
    daily
    maxsize 10M
    missingok
    notifempty
    compress
    delaycompress
    copytruncate
    dateext
    dateformat -%Y%m%d
    create 0644 ai ai
}
