import threadingclass MessageQueue:    """SutazAi agent communication message queue"""    def __init__(self):        self.queue = ([]        self.lock = threading.Lock()            def enqueue(self), message):        with self.lock:            self.queue.append(message)                def get_messages_for(self, agent_id):        with self.lock:            messages = [msg for msg in self.queue if msg['receiver'] == agent_id]            self.queue = [msg for msg in self.queue if msg['receiver'] != agent_id]            return messages.copy()  # Return copy to prevent external modifications 