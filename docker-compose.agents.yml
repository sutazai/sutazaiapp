services:
  senior-ai-engineer:
    container_name: sutazai-senior-ai-engineer
    image: python:3.11-slim
    volumes:
      - ./agents/configs/senior-ai-engineer-simple.json:/app/config.json:ro
      - ./agents/senior-ai-engineer:/app
      - ./agents/agent_base.py:/app/shared/agent_base.py:ro
      - ./agents/startup.sh:/app/startup.sh:ro
      - ./data:/app/data
    environment:
      - AGENT_NAME=senior-ai-engineer
      - AGENT_TYPE=senior-ai-engineer
      - LOG_LEVEL=INFO
      - OLLAMA_URL=http://sutazai-ollama-minimal:11434
      - BACKEND_URL=http://sutazai-backend-minimal:8000
      - PYTHONUNBUFFERED=1
    networks:
      - sutazai-minimal
    working_dir: /app
    command: bash /app/startup.sh
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 256M
        reservations:
          memory: 128M

  deployment-automation-master:
    container_name: sutazai-deployment-automation-master
    image: python:3.11-slim
    volumes:
      - ./agents/configs/deployment-automation-master-simple.json:/app/config.json:ro
      - ./agents/deployment-automation-master:/app
      - ./agents/agent_base.py:/app/shared/agent_base.py:ro
      - ./agents/startup.sh:/app/startup.sh:ro
      - ./data:/app/data
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      - AGENT_NAME=deployment-automation-master
      - AGENT_TYPE=deployment-automation-master
      - LOG_LEVEL=INFO
      - OLLAMA_URL=http://sutazai-ollama-minimal:11434
      - BACKEND_URL=http://sutazai-backend-minimal:8000
      - PYTHONUNBUFFERED=1
    networks:
      - sutazai-minimal
    working_dir: /app
    command: bash /app/startup.sh
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 256M
        reservations:
          memory: 128M

  infrastructure-devops-manager:
    container_name: sutazai-infrastructure-devops-manager
    image: python:3.11-slim
    volumes:
      - ./agents/configs/infrastructure-devops-manager-simple.json:/app/config.json:ro
      - ./agents/infrastructure-devops-manager:/app
      - ./agents/agent_base.py:/app/shared/agent_base.py:ro
      - ./agents/startup.sh:/app/startup.sh:ro
      - ./data:/app/data
      - /var/run/docker.sock:/var/run/docker.sock:ro
    environment:
      - AGENT_NAME=infrastructure-devops-manager
      - AGENT_TYPE=infrastructure-devops-manager
      - LOG_LEVEL=INFO
      - OLLAMA_URL=http://sutazai-ollama-minimal:11434
      - BACKEND_URL=http://sutazai-backend-minimal:8000
      - PYTHONUNBUFFERED=1
    networks:
      - sutazai-minimal
    working_dir: /app
    command: bash /app/startup.sh
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 256M
        reservations:
          memory: 128M

  ollama-integration-specialist:
    container_name: sutazai-ollama-integration-specialist
    image: python:3.11-slim
    volumes:
      - ./agents/configs/ollama-integration-specialist-simple.json:/app/config.json:ro
      - ./agents/ollama-integration-specialist:/app
      - ./agents/agent_base.py:/app/shared/agent_base.py:ro
      - ./agents/startup.sh:/app/startup.sh:ro
      - ./data:/app/data
    environment:
      - AGENT_NAME=ollama-integration-specialist
      - AGENT_TYPE=ollama-integration-specialist
      - LOG_LEVEL=INFO
      - OLLAMA_URL=http://sutazai-ollama-minimal:11434
      - BACKEND_URL=http://sutazai-backend-minimal:8000
      - PYTHONUNBUFFERED=1
    networks:
      - sutazai-minimal
    working_dir: /app
    command: bash /app/startup.sh
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 256M
        reservations:
          memory: 128M

  testing-qa-validator:
    container_name: sutazai-testing-qa-validator
    image: python:3.11-slim
    volumes:
      - ./agents/configs/testing-qa-validator-simple.json:/app/config.json:ro
      - ./agents/testing-qa-validator:/app
      - ./agents/agent_base.py:/app/shared/agent_base.py:ro
      - ./agents/startup.sh:/app/startup.sh:ro
      - ./data:/app/data
    environment:
      - AGENT_NAME=testing-qa-validator
      - AGENT_TYPE=testing-qa-validator
      - LOG_LEVEL=INFO
      - OLLAMA_URL=http://sutazai-ollama-minimal:11434
      - BACKEND_URL=http://sutazai-backend-minimal:8000
      - PYTHONUNBUFFERED=1
    networks:
      - sutazai-minimal
    working_dir: /app
    command: bash /app/startup.sh
    restart: unless-stopped
    deploy:
      resources:
        limits:
          cpus: '0.25'
          memory: 256M
        reservations:
          memory: 128M

networks:
  sutazai-minimal:
    name: sutazaiapp_sutazai-minimal
    external: true